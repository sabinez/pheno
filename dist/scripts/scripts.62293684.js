"use strict";angular.module("phenoApp",["ngAnimate","ngCookies","ngRoute","ngSanitize","ngTouch"]),window.animatePeas=function(){var a=""+($(".peas-img-hg").width()-$(".pea-a").width())+"px",b=""+($(".peas-img-hg").height()-$(".pea-a").height())+"px";$(".pea").each(function(c,d){var e=$(d),f=e.css("left"),g=e.css("top"),h=Math.floor(3*Math.random()),i=Math.floor(Math.random()*parseInt(b)),j=Math.floor(Math.random()*parseInt(a));"0px"===f?0===h?(e.css("top","0px"),e.css("left",""+j+"px")):1===h?(e.css("left",a),e.css("top",""+i+"px")):(e.css("top",b),e.css("left",""+j+"px")):f===a?0===h?(e.css("top",b),e.css("left",""+j+"px")):1===h?(e.css("left","0px"),e.css("top",""+i+"px")):(e.css("top","0px"),e.css("left",""+j+"px")):"0px"===g?0===h?(e.css("left",a),e.css("top",""+i+"px")):1===h?(e.css("top",b),e.css("left",""+j+"px")):(e.css("left","0px"),e.css("top",""+i+"px")):g===b&&(0===h?(e.css("left","0px"),e.css("top",""+i+"px")):1===h?(e.css("top","0px"),e.css("left",""+j+"px")):(e.css("left",a),e.css("top",""+i+"px")))})},angular.module("phenoApp").controller("AboutCtrl",function(){}),function(){angular.module("phenoApp").service("plantData",["$http",function(a){var b={};return b.requestPlantData=function(b){a.get("/plants.json").success(function(a){b(a)})},b}])}(),function(){angular.module("phenoApp").controller("ApplicationCtrl",["plantData","$scope","initScrolling","$timeout",function(a,b,c,d){var e=function(){return document.getElementById("calendar-month-section").offsetWidth/12},f=function(a,b,c){return 1===b?(a[1]-a[0])*c:2===b?(a[3]-a[2])*c:void 0},g=function(a,b,c){return 1===b?(a[0]-1)*c:2===b?(a[2]-a[1])*c:void 0},h=function(){for(var a=e(),c=0;c<b.PLANTS.length;c++)for(var d=b.PLANTS[c],h=["sowing","planting","harvesting"],i=0;i<h.length;i++){var j=h[i]+"Width",k=h[i]+"Margin",l=h[i]+"WidthSecond",m=h[i]+"MarginSecond",n=h[i].toUpperCase(),o=d.TIMES[n];void 0!==o&&(b.PLANTS[c][j]=f(o,1,a),b.PLANTS[c][k]=g(o,1,a),o.length>2?(b.PLANTS[c][l]=f(o,2,a),b.PLANTS[c][m]=g(o,2,a)):(b.PLANTS[c][l]=0,b.PLANTS[c][m]=0))}};b.hideLines=!1,b.showMenuAll=!1,b.showMenu=!1,b.hideMenu=!0,b.showBeetrootText=!1;var i={};i.removeLinesAndShowMenu=function(){b.$apply(function(){0==b.hideLines?(b.hideLines=!0,b.showMenuAll=!0):(b.hideLines=!1,b.showMenuAll=!1)})},b.menuButton=function(){0==b.showMenu?(b.showMenu=!0,b.hideMenu=!1):(b.showMenu=!1,b.hideMenu=!0)},i.beetrootText=function(){b.$apply(function(){0==b.showBeetrootText?b.showBeetrootText=!0:b.showBeetrootText=!1})},a.requestPlantData(function(a){b.PLANTS=a.PLANTS,h(),d(function(){c(i),setInterval(animatePeas,20)})})}])}(),function(){angular.module("phenoApp").service("initScrolling",function(){var a=[],b=function(b){var c=$(window).height()/15,d=3*c,e=6*c,f=7*c,g=new ScrollMagic.Controller({container:"#viewport"}),h=new TweenMax.to("#target-side-bar-tween",1,{left:"-100vh"}),i=new TweenMax.to(".plant-separator-line",1,{width:"0"}),j=new TweenMax.to(".month-separators",1,{height:"0"}),k=new TweenMax.to(".calendar-content",1,{left:"-85vh"}),l=new TweenMax.to(".target-tween-tomato",1,{left:"40vw"}),m=new TweenMax.to("#target-carrot-rotation",1,{rotation:180,ease:Linear.easeNone}),n=new TimelineMax;n.add([TweenMax.to(".vegetable-heading-spinach",1,{top:"5vh"}),TweenMax.to(".spinach-img",1,{top:e.toString()}),TweenMax.to(".spinach-text-position",1,{top:f.toString()})]);var o=new TimelineMax;o.add([TweenMax.to(".vegetable-heading-chard",1,{top:"5vh"}),TweenMax.to(".chard-img",1,{top:e.toString()}),TweenMax.to(".chard-text-position",1,{top:e.toString()})]);var p=new TimelineMax;p.add([TweenMax.to(".vegetable-heading-brussel-sprouts",1,{top:"5vh"}),TweenMax.to(".brussel-sprouts-img",1,{top:d.toString()}),TweenMax.to(".brussel-sprouts-text-position",1,{top:f.toString()})]),p.add(TweenMax.to("#target-brussel-sprouts-cutout",1,{rotation:360,ease:Linear.easeNone}));var q=new TimelineMax;q.add([TweenMax.to(".vegetable-heading-pepper",1,{top:"5vh"}),TweenMax.to(".pepper-img-tweener",1,{top:e.toString()}),TweenMax.to(".pepper-text-position",1,{top:e.toString()})]);var r=new TimelineMax;r.add([TweenMax.to(".vegetable-heading-beetroot",1,{top:"5vh"}),TweenMax.to(".beetroot-img",1,{top:e.toString()}),TweenMax.to(".beetroot-text-position",1,{top:e.toString()})]),r.add(TweenMax.to([".beetroot-img",".pepper-img-tweener"],1,{left:"20vw"})),a.push(new ScrollMagic.Scene({triggerElement:"#trigger-calendar",duration:1.5*$(window).height()}).triggerHook(0).setPin("#target-calendar",{pushFollowers:!0})),a.push(new ScrollMagic.Scene({triggerElement:"#trigger-calendar",duration:1*$(window).height()}).triggerHook(0).offset(.5*$(window).height()).setTween(h)),a.push(new ScrollMagic.Scene({triggerElement:"#trigger-calendar",duration:1*$(window).height()}).triggerHook(0).offset(.5*$(window).height()).setTween(k)),a.push(new ScrollMagic.Scene({triggerElement:"#trigger-calendar",duration:1*$(window).height()}).triggerHook(0).offset(.5*$(window).height()).setTween(i)),a.push(new ScrollMagic.Scene({triggerElement:"#trigger-calendar",duration:1*$(window).height()}).triggerHook(0).offset(.5*$(window).height()).setTween(j).on("end",function(){b.removeLinesAndShowMenu()})),a.push(new ScrollMagic.Scene({triggerElement:"#trigger-calendar",duration:$("#viewport")[0].scrollHeight}).triggerHook(0).offset(.5*$(window).height()).setPin("#target-side-bar-lines",{pushFollowers:!1})),a.push(new ScrollMagic.Scene({triggerElement:"#trigger-calendar",duration:$("#viewport")[0].scrollHeight}).triggerHook(0).offset(1.5*$(window).height()).setPin(".month-separators",{pushFollowers:!1})),a.push(new ScrollMagic.Scene({triggerElement:"#trigger-calendar",duration:$("#viewport")[0].scrollHeight}).triggerHook(0).offset(1.5*$(window).height()).setPin("#calendar-month-section",{pushFollowers:!1})),a.push(new ScrollMagic.Scene({triggerElement:"#trigger-calendar",duration:$("#viewport")[0].scrollHeight}).triggerHook(0).offset(1.5*$(window).height()).setPin(".menu-wrapper",{pushFollowers:!1})),a.push(new ScrollMagic.Scene({triggerElement:".screen-spinach",duration:1*$(window).height()}).triggerHook(0).setPin(".screen-spinach",{pushFollowers:!1}).setTween(n).setClassToggle("#menu-spinach","active")),a.push(new ScrollMagic.Scene({triggerElement:".screen-chard",duration:1*$(window).height()}).triggerHook(0).setPin(".screen-chard",{pushFollowers:!1}).setTween(o).setClassToggle("#menu-chard","active")),a.push(new ScrollMagic.Scene({triggerElement:".screen-brussel-sprouts",duration:1.5*$(window).height()}).triggerHook(0).setPin(".screen-brussel-sprouts",{pushFollowers:!1}).setTween(p).setClassToggle("#menu-brussel-sprouts","active")),a.push(new ScrollMagic.Scene({triggerElement:".screen-pepper",duration:1*$(window).height()}).triggerHook(0).setPin(".screen-pepper",{pushFollowers:!1}).setTween(q).addIndicators().setClassToggle("#menu-pepper","active")),a.push(new ScrollMagic.Scene({triggerElement:".screen-beetroot",duration:2*$(window).height()}).triggerHook(1).addIndicators().setPin("#pepper-img-pin",{pushFollowers:!1})),a.push(new ScrollMagic.Scene({triggerElement:".screen-beetroot",duration:1*$(window).height()}).triggerHook(0).setPin(".screen-beetroot",{pushFollowers:!1}).setTween(r).setClassToggle("#menu-beetroot","active")),a.push(new ScrollMagic.Scene({triggerElement:".screen-tomato",duration:1.3*$(window).height()}).triggerHook(0).setPin("#target-tomato-hg",{pushFollowers:!1})),a.push(new ScrollMagic.Scene({triggerElement:"#trigger-tomato-hg",duration:1.15*$(window).height()}).triggerHook(0).offset(.05*$(window).height()).setPin("#target-tomato-img",{pushFollowers:!1})),a.push(new ScrollMagic.Scene({triggerElement:".screen-tomato",duration:1.3*$(window).height()}).triggerHook(0).setPin(".vegetable-time-bars",{pushFollowers:!1})),a.push(new ScrollMagic.Scene({triggerElement:".screen-tomato",duration:.5*$(window).height()}).triggerHook(0).setTween(l)),a.push(new ScrollMagic.Scene({triggerElement:"#trigger-tomato-text",duration:.5*$(window).height()}).triggerHook(.4).setPin("#target-tomato-text",{pushFollowers:!1})),a.push(new ScrollMagic.Scene({triggerElement:"#trigger-sweet-potato-img",duration:.65*$(window).height()}).triggerHook(0).setPin("#target-sweet-potato-img",{pushFollowers:!1}).setClassToggle("#menu-sweet-potato","active")),a.push(new ScrollMagic.Scene({triggerElement:"#trigger-sweet-potato-text",duration:.4*$(window).height()}).triggerHook(.55).setPin("#target-sweet-potato-text",{pushFollowers:!1})),a.push(new ScrollMagic.Scene({triggerElement:"#trigger-peas-img",duration:1.25*$(window).height()}).triggerHook(0).setPin("#target-peas-img",{pushFollowers:!1}).setClassToggle("#menu-peas","active")),a.push(new ScrollMagic.Scene({triggerElement:"#trigger-carrot-img",duration:.5*$(window).height()}).triggerHook(.3).setTween(m).setPin("#target-carrot-img",{pushFollowers:!1}).setClassToggle("#menu-carrot","active")),a.push(new ScrollMagic.Scene({triggerElement:"#trigger-onion-text",duration:1.2*$(window).height()}).triggerHook(.7).setPin("#target-onion-text",{pushFollowers:!1}).setClassToggle("#menu-onion","active")),a.push(new ScrollMagic.Scene({triggerElement:"#trigger-onion-img",duration:.2*$(window).height()}).triggerHook(.1).setPin("#target-onion-img",{pushFollowers:!1})),a.forEach(function(a){a.addTo(g)}),g.scrollTo(function(a){var b=$("#viewport");TweenMax.to(b,.5,{scrollTo:{y:a}})}),$(document).on("click","a[href^='#']",function(a){var b=$(this).attr("href");$(b).length>0&&(a.preventDefault(),g.scrollTo(b),window.history&&window.history.pushState&&history.pushState("",document.title,b))})};return $(window).on("resize",function(){for(var c=0;c<a.length;c++)a[c].destroy(!0);a=[],b()}),b})}(),angular.module("phenoApp").directive("vegetableTimeBars",function(){return{restrict:"E",replace:!0,scope:{plant:"="},template:'        <li class="target-tween-tomato">          <div class="calendar-time-bars">            <div style="display:flex;">              <div class="calendar-time-bar sowing" style="width:{{plant.sowingWidth}}px;margin-left:{{plant.sowingMargin}}px;">sow</div>              <div class="calendar-time-bar sowing" ng-if="plant.TIMES.SOWING[2]" style="width:{{plant.sowingWidthSecond}}px;margin-left:{{plant.sowingMarginSecond}}px;">sow</div>            </div>            <div class="calendar-time-bar planting" ng-if="plant.TIMES.PLANTING" style="width:{{plant.plantingWidth}}px;margin-left:{{plant.plantingMargin}}px;">plant</div>            <div style="display:flex;">              <div class="calendar-time-bar harvesting" style="width:{{plant.harvestingWidth}}px;margin-left:{{plant.harvestingMargin}}px;">harvest</div>              <div class="calendar-time-bar harvesting" ng-if="plant.TIMES.HARVESTING[2]" style="width:{{plant.harvestingWidthSecond}}px;margin-left:{{plant.harvestingMarginSecond}}px;">harvest</div>            </div>          </div>        </li>'}}),angular.module("phenoApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>")}]);